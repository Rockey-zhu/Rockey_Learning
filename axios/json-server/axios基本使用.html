<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link crossorigin="anonymous" href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.2.3/css/bootstrap-grid.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/1.3.6/axios.js"></script>
    <title>Document</title>
</head>

<body>
    <div class="container">
        <h2 class="page-header">基本使用</h2>
        <button class="btn btn-primary">发送GET请求</button>
        <button class="btn btn-warning">发送POST请求</button>
        <button class="btn btn-success">发送PUT请求</button>
        <button class="btn btn-danger">发送DELETE请求</button>
        <button class="btn btn-warning">(简写)发送POST请求</button>
        <div class="box" id="box" style="width: 300px;height: 100px;background: cornsilk;">占位符</div>
    </div>
</body>
<script>
    //获取按钮
    const btns = document.querySelectorAll('button');

    //第一个
    btns[0].onclick = function() {
            //发送ajax请求
            axios({
                //请求类型
                method: 'GET',
                //URL
                url: 'http://localhost:3000/posts/2',
            }).then(res => {
                console.log(res);
            })
        }
        //新增数据
    btns[1].onclick = function() {
        //发送ajax请求
        axios({
            //请求类型
            method: 'POST',
            //URL
            url: 'http://localhost:3000/posts',
            //设置请求体
            data: {
                title: "今天天气不错，风和日丽",
                author: "张三"
            }
        }).then(res => {
            console.log(res);
        })

    }

    //axios 另一种写法  新增数据
    btns[4].onclick = function() {
        //发送ajax请求
        axios.post(
            'http://localhost:3000/comments', {
                "body": "喜大普奔",
                "postId": 2,
            }
        ).then(res => {
            console.log(res.data.body);
            document.getElementById("box").innerHTML = res.data.body
        })

    }

    //更新数据
    btns[2].onclick = function() {
        //发送ajax请求
        axios({
            //请求类型
            method: 'PUT',
            //URL
            url: 'http://localhost:3000/posts/3',
            //设置请求体
            data: {
                title: "今天天气不错，风和日丽",
                author: "李四"
            }
        }).then(res => {
            console.log(res);
        })
    }

    //删除数据
    btns[3].onclick = function() {
        //发送ajax请求
        axios({
            //请求类型
            method: 'DELETE',
            //URL
            url: 'http://localhost:3000/posts/3',
        }).then(res => {
            console.log(res);
        })
    }

    /*
    axios({
        url:'/post',
        // post?a=100&b=200
        // post?a/100/b/200
        // post?a.100/b.200
        params:{
            a:100,
            b:200
        }
    })
    
    
    */
</script>

</html>